<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		.titleText {
			color: green;
			font-family: arial;
		}
	</style>
	<script type="text/javascript" src="jquery-1.12.0.min.js"></script>
	<script type="text/javascript">
		function ajaxFunction(){
			var ajaxRequest;
			try{
				ajaxRequest = new XMLHttpRequest();
			} catch(e){
				try{
					ajaxRequest = new ActiveXObject("Msxml2.XMLHTTP");
				} catch(e){
					try{
						ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
					} catch(e){
						alert("Your browser broke!");
						return false;
					}
				}
			}
		}

		function validateUserId(){
			ajaxFunction();

			// Here processRequest() is the callback function
			ajaxRequest.onreadystatechange = processRequest;
			if(!target) target = document.getElementById("userid");

			var url = "validate?id=" + escape(target.value);

			ajaxRequest.open("GET", url, true);
			ajaxRequest.send(null);
		}

		function processRequest(){
			if(req.readyState == 4){
				if(req.status == 200){
					var message = "This is a test.";
				}
			}
		}

		function setMessageUsingDOM(message){
			var userMessageElement = document.getElementById("userIdMessage");
			var messageText;
			if(message == "false"){
				userMessageElement.style.color = "red";
				messageText = "Invalid User Id";
			} else {
				userMessageElement.style.color = "green";
				messageText = "Valid User Id";
			}
			var messageBody = document.createTextNode(messageText);

			if(userMessageElement.childNodes[0]){
				userMessageElement.replaceChild(messageBody, userMessageElement.childNodes[0]);
			} else {
				userMessageElement.appendChild(messageBody);
			}
		}
	</script>
</head>
<body>
	<form>
		Name: <input type="text" name="username" /><br />
		Time: <input type="text" name="time" />
		<input type="text" size="20" id="userid" name="id" onkeyup="validateUserId();" />
	</form>
	<div id="userIdMessage"></div>
</body>
</html>